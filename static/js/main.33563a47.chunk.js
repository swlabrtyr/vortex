(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){e.exports=n(32)},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),u=n(1),i=n(3),s=n(15),o=n.n(s),l=n(5),m=n(9),d={gain:{attack:{time:.1,amnt:.8},decay:{time:.5,amnt:.1},sustain:{time:.5,amnt:.1},release:{time:.8,amnt:.01}},filter:{attack:{time:.1,amnt:8700},decay:{time:.5,amnt:600},sustain:{time:.5,amnt:500},release:{time:.8,amnt:200}}},f=8,v={playback:!0,events:[{id:0,content:"F4",isArmed:!0},{id:1,content:"",isArmed:!0},{id:2,content:"F5",isArmed:!0},{id:3,content:"A5",isArmed:!0},{id:4,content:"D5",isArmed:!1},{id:5,content:"A#5",isArmed:!0},{id:6,content:"C5",isArmed:!1},{id:7,content:"F3",isArmed:!0}],adsr:d},p=-1,E=Object(i.c)({initState:v,events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.events,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":return[].concat(Object(m.a)(e),[{id:t.id,content:t.content,isArmed:t.isArmed}]);case"REMOVE_EVENT":return Object(m.a)(e.slice(0,-1).concat());case"POP_EVENT":return p=-1,e.filter(function(e){return e.id!==t.id}).map(function(e){return Object(l.a)({},e,{id:p+=1})});case"TOGGLE_EVENT":return e.map(function(e){return e.id===t.id?Object(l.a)({},e,{isArmed:!e.isArmed}):e});case"EDIT_EVENT":return e.map(function(e){return e.id===t.id?Object(l.a)({},e,{content:t.content}):e});default:return e}},playback:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_PLAYBACK":return{playback:!e.playback};default:return e}}}),b=function(e){/[2-7A-G#]+/g.test(e.key)||e.preventDefault()},y=(n(25),function(e){var t,n=e.dispatch;return a.a.createElement("div",null,a.a.createElement("form",{onKeyPress:function(e){return b(e)},onSubmit:function(e){var r;e.preventDefault(),K.getState().events.length<16&&n((r=t.value,{type:"ADD_EVENT",id:f>16?16:f++,content:r,isArmed:!0})),t.value="",t.focus()}},a.a.createElement("input",{autoFocus:!0,className:"note-input",ref:function(e){return t=e}}),a.a.createElement("button",{type:"submit",className:"add-btn"}," add ")))}),A=y=Object(u.b)()(y),C=(n(26),function(e){var t=e.dispatch;return a.a.createElement("div",{className:"remove-event"},a.a.createElement("button",{className:"rm-btn",onClick:function(){t({type:"REMOVE_EVENT",id:f<=0?{}:--f})}}," pop "))}),k=C=Object(u.b)()(C),T=n(2),g=n.n(T),O=(n(7),function(e){var t=e.id,n=e.onClick,r=e.content,c=e.isArmed,u=e.key;return a.a.createElement("div",{id:t,key:u,onClick:n,className:"".concat(c?"event-armed":"event-unarmed")},r)});Event.propTypes={onClick:g.a.func.isRequired,isArmed:g.a.bool.isRequired,id:g.a.number.isRequired,content:g.a.string.isRequired};var h=O=Object(u.b)()(O),G=function(e){var t=e.onClick;return a.a.createElement("button",{className:"pop-event",onClick:t}," x ")},N=G=Object(u.b)()(G),D=n(16),j=(n(27),function(e){return Object(D.a)(e),a.a.createElement("div",{className:"envelope"}," env ")}),F=(j=Object(u.b)()(j),n(28),function(e){var t,n=e.id,r=e.dispatch;return a.a.createElement("form",{onKeyPress:function(e){return b(e)},onSubmit:function(e){e.preventDefault(),r(function(e,t){return{type:"EDIT_EVENT",id:e,content:t}}(n,t.value)),t.value=""}},a.a.createElement("input",{className:"edit-event-input",ref:function(e){return t=e}}))}),V=F=Object(u.b)()(F),w=function(){var e=document.getElementById("event-list-container"),t=e.querySelectorAll(".event-container"),n=t.length,r=window.getComputedStyle(e).getPropertyValue("height"),a=parseInt(r,10)/2;if(document.querySelector(".event-container")){var c,u=document.querySelector(".event-container").getBoundingClientRect().width,i=a+u,s=Math.PI/2,o=2*Math.PI/n;for(c=0;c<n;c++)t[c].style.left=parseInt(a-u/2+i*Math.cos(s))+"px",t[c].style.top=parseInt(a-u/2-i*Math.sin(s))+"px",s-=o}},B=function(e){var t=e.events,n=e.onEventClick,c=e.onPopClick,u=e.onInputSubmit,i=e.onInputKeypress;return Object(r.useLayoutEffect)(function(){w()}),a.a.createElement("div",{id:"event-list-container",className:"event-list"},t.map(function(e){return a.a.createElement("div",{key:e.id,className:"event-container"},a.a.createElement(h,Object.assign({id:e.id},e,{onClick:function(){return n(e.id)},content:e.content,isArmed:e.isArmed})),a.a.createElement(V,{id:e.id,onSubmit:function(){return u(e.id,e.content)},onKeyPress:function(){return i}}),a.a.createElement(N,{onClick:function(){return c(e.id)}}))}))},P=Object(u.b)(function(e){return{events:e.events}},function(e){return{onEventClick:function(t){return e(function(e){return{type:"TOGGLE_EVENT",id:e}}(t))},onPopClick:function(t){return e(function(e){return f--,{type:"POP_EVENT",id:e}}(t))}}})(B),x=function(e){switch(e){case"A0":return 27.5;case"A#0":return 29.1;case"B0":return 30.9;case"C1":return 32.7;case"C#1":return 34.6;case"D1":return 36.7;case"D#1":return 38.9;case"E1":return 41.2;case"F1":return 43.7;case"F#1":return 46.2;case"G1":return 49;case"G#1":return 51.9;case"A1":return 55;case"A#1":return 58.3;case"B1":return 61.7;case"C2":return 65.4;case"C#2":return 69.3;case"D2":return 73.4;case"D#2":return 77.8;case"E2":return 82.4;case"F2":return 87.3;case"F#2":return 92.5;case"G2":return 98;case"G#2":return 103.8;case"A2":return 110;case"A#2":return 116.5;case"B2":return 123.5;case"C3":return 130.8;case"C#3":return 138.6;case"D3":return 146.8;case"D#3":return 155.6;case"E3":return 164.8;case"F3":return 174.6;case"F#3":return 185;case"G3":return 196;case"G#3":return 207.7;case"A3":return 220;case"A#3":return 233.1;case"B3":return 246.9;case"C4":return 261.6;case"C#4":return 277.2;case"D4":return 293.7;case"D#4":return 311.1;case"E4":return 329.6;case"F4":return 349.2;case"F#4":return 370;case"G4":return 392;case"G#4":return 415.3;case"A4":return 440;case"A#4":return 466.2;case"B4":return 493.9;case"C5":return 523.3;case"C#5":return 554.4;case"D5":return 587.3;case"D#5":return 622.3;case"E5":return 659.3;case"F5":return 698.5;case"F#5":return 740;case"G5":return 784;case"G#5":return 830.6;case"A5":return 880;case"A#5":return 932.3;case"B5":return 987.8;case"C6":return 1046.5;case"C#6":return 1108.7;case"D6":return 1174.7;case"D#6":return 1244.5;case"E6":return 1318.5;case"F6":return 1396.9;case"F#6":return 1480;case"G6":return 1568;case"G#6":return 1661.2;case"A6":return 1760;case"A#6":return 1864.7;case"B6":return 1975.5;case"C7":return 2093;case"C#7":return 2217.5;case"D7":return 2349.3;case"D#7":return 2489;case"E7":return 2637;case"F7":return 2793.8;case"F#7":return 2960;case"G7":return 3136;case"G#7":return 3322.4;case"A7":return 3520;case"A#7":return 3729.3;case"B7":return 3951.1;case"C8":return 4186;default:return 1e-4}},I=function(e){var t=e,n=t.createGain(),r=.1;n.gain.value=.2,n.connect(t.destination);var a,c=t.currentTime,u=1,i=[];function s(e,n,r){var a=t.currentTime;e.setValueAtTime(r,a);var c=n.attack.time,u=a+c;e.exponentialRampToValueAtTime(n.attack.amnt,u);var i=n.decay.time,s=a+c+i;e.exponentialRampToValueAtTime(n.decay.amnt,s);var o=n.sustain.time,l=a+c+i+o;e.exponentialRampToValueAtTime(n.sustain.amnt,l);var m=n.release.time,d=a+c+i+o+m;e.exponentialRampToValueAtTime(n.release.amnt,d)}function o(e,n,r){var a=t.createGain();return arguments?(r&&r(a.gain,e,n),a):a}function l(e,n,r,a){var c=t.createBiquadFilter();return c.type=e,arguments?(a&&a(c.frequency,n,r),c):c}function m(e){var n=t.createOscillator();return n.type=e,n}var f=function(e,t,n){void 0!==n&&e&&(e.style.border=t?"0.12em solid palevioletred":"0.12em solid lightskyblue")};function v(e,r,a){if(void 0!==K){i=K.getState().events;for(var u=0;u<i.length;++u)if(e===i[u].id){if(f(document.getElementById(u),!0,u),!0===i[u].isArmed){var v=m("sawtooth"),p=m("sawtooth"),E=l("lowpass",d.filter,.001,s),b=o(d.gain,.001,s);v.connect(E).connect(b).connect(n),p.connect(E).connect(b).connect(n),v.start(t.currentTime),p.start(t.currentTime),v.stop(c+2.8),p.stop(c+2.8),v.frequency.value=x(i[u].content)/2,p.frequency.value=x(i[u].content)/4,v.detune.value=7,p.detune.value=-3}}else e!==i[u].id&&f(document.getElementById(u),!1,u)}}function p(){K.getState().playback.playback?function(){for(;c<t.currentTime+r;)++u>=i.length&&(u=0),v(u),c+=.25;a=window.setTimeout(p,25)}():clearTimeout(a)}p()},_=(n(29),function(e){var t=e.dispatch,n=!1;return a.a.createElement("div",{className:"play-pause"},a.a.createElement("button",{className:"play-pause",onClick:function(){var e=new AudioContext;t({type:"TOGGLE_PLAYBACK",playback:!0}),I(e),n=!n}},"start / stop"))}),R=_=Object(u.b)()(_),S=Object(u.b)(function(e){return{playback:e.playback.playback}},function(e){return{onToggleClick:function(){e({type:"TOGGLE_PLAYBACK",playback:!0})}}})(R),q=(n(30),n(31),function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"vortex-app"},a.a.createElement("div",{className:"controls"},a.a.createElement("div",{className:"instructions"},a.a.createElement("h4",{style:{marginRight:"10px"}},a.a.createElement("strong",null,"Vortex")),a.a.createElement("p",null,a.a.createElement("br",null)," Type a note + octave & press enter",a.a.createElement("br",null),a.a.createElement("br",null),' Ex. "A4" or "C#5"',a.a.createElement("br",null))),a.a.createElement(S,null),a.a.createElement(A,null),a.a.createElement(k,null)),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(P,null)))))}),L=Object(i.d)(E,Object(i.a)(o.a));Object(c.render)(a.a.createElement(u.a,{store:L},a.a.createElement(q,null)),document.getElementById("root"));var K=t.default=L}],[[17,1,2]]]);
//# sourceMappingURL=main.33563a47.chunk.js.map